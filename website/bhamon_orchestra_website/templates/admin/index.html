{% extends 'layout.html' %}

{% block content %}
<h1>Administration</h1>

<section>
	<div class="status-group">
		<div class="status-indicator {{ service_status['status'] }}"></div>
		{% if service_status['status'] == "available" %}
		<div class="status-text">Service available</div>
		{% else %}
		<div class="status-text">{{ service_status['status_message'] }} ({{ service_status['status_code'] }})</div>
		{% endif %}
	</div>
	<form class="action-group" method="post">
		<button formaction="{{ url_for('reload_service') }}">Reload master configuration</button>
	</form>
</section>

{% if website_information %}
<section>
	<h2>Website Information</h2>
	<ul>
		<li>Python: {{ website_information['python_version'] }}</li>
		<li>Website: {{ website_information['website_version'] }} ({{ website_information['website_version_date'] }})</li>
	</ul>
</section>
{% endif %}

{% if service_information %}
<section>
	<h2>Service Information</h2>
	<ul>
		<li>Python: {{ service_information['python_version'] }}</li>
		<li>Service: {{ service_information['service_version'] }} ({{ service_information['service_version_date'] }})</li>
	</ul>
</section>
{% endif %}
{% endblock %}
